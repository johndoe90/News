angular.module("news",["angular-gestures"]).factory("storageService",[function(){var a=function(){this.setSessionStorageItem=function(a,b){sessionStorage[a]=b},this.getSessionStorageItem=function(a){return sessionStorage[a]},this.setLocalStorageItem=function(a,b){localStorage[a]=b},this.getLocalStorageItem=function(a){return localStorage[a]}};return new a}]).factory("categoryService",["$http",function(a){function b(){var b=this;this.url="http://10.0.0.56:8080/news/categories",this.getCategories=function(){return a.get(b.url)}}return new b}]).factory("newsResource",["$http",function(a){return function(){var b="http://10.0.0.56:8080/news/media",c={},d=function(a){angular.extend(this,a)};return d.query=function(e){return a.get(b,{params:angular.extend(e,c)}).then(function(a){var b=[];return angular.forEach(a.data,function(a,c){b[c]=new d(a)}),b})},d}}]).factory("Media",["newsResource",function(a){return a("media")}]).controller("appController",["$scope","$rootScope",function(a,b){window.onload=function(){b.$broadcast("load",{})},window.onbeforeunload=function(){b.$broadcast("unload",{})}}]).controller("menuController",["$scope","storageService","categoryService",function(a,b,c){a.categories=[],a.$on("load",function(){var d=b.getSessionStorageItem("menu");d?(d=JSON.parse(d),angular.extend(a,d),a.$apply()):c.getCategories().then(function(b){a.categories=b})}),a.$on("unload",function(){var c={};c.categories=a.categories,b.setSessionStorageItem("menu",JSON.stringify(c))})}]).controller("mediaController",["$scope","Media","storageService",function(a,b,c){a.media=[],a.$on("load",function(){var d=c.getSessionStorageItem("media");d?(d=JSON.parse(d),angular.extend(a,d),a.$apply()):b.query({"categories[]":["1","2","3","4","5","6","7","8","9","10","11","12"],"mediaProviders[]":["1"]}).then(function(b){a.media=b})}),a.$on("unload",function(){var b={};b.media=a.media,c.setSessionStorageItem("media",JSON.stringify(b))}),a.clicked=function(){alert("Clicked!")},a.tapped=function(){alert("tapped")}}]);